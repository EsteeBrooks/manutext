{% extends "index.html" %}

{% block main %}
<div class="container">
    <div class="row">
      <div class="col">
        <h1>Upload an image</h1>
        <hr>
  
        <form action="/upload-image" method="POST" enctype="multipart/form-data">
  
          <div class="form-group">
            <!-- <label>Select image</label> -->
            <div class="custom-file">
                <input type="file" class="custom-file-input" name="image" id="image" oninput="filesize(this);">
                <!-- <label class="custom-file-label" for="image">Select image...</label> -->
            </div>
          </div>
          <!-- Add icon library -->
          <button type="submit"> Upload </button></form>
        <h1>Result:</h1>

        {% if msg %}
        <h2>{{ msg }}</h2>
        {% endif %}

        {% if img_src %}
          <img src="{{ img_src }}" alt="Image could not be displayed">
        {% endif %}
       
        {% if extracted_text %}
          <p> The extracted text from the image above is: <b dir="rtl"> {{ extracted_text }} </b></p>
        {% endif %}
  
      </div>
    </div>
  </div>
{% endblock %}
  <script>

    function filesize(elem){
      document.cookie = `filesize=${elem.files[0].size}`
    }
  
  </script>